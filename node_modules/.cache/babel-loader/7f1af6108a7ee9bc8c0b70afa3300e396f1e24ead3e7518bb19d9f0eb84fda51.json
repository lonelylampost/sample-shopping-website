{"ast":null,"code":"import _toConsumableArray from\"/home/nah/sample-shopping-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/nah/sample-shopping-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import'./styles.css';import border from'../img/border.png';import products from'../productslist';import{cart,cartNum}from'../bagcontext';import{useNavigate}from'react-router-dom';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCartPage=function ShoppingCartPage(){var cartItems=useContext(cart);var cartItemsNum=useContext(cartNum);var navigate=useNavigate();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),absoluteTotal=_useState2[0],setAbsoluteTotal=_useState2[1];var _useState3=useState('none'),_useState4=_slicedToArray(_useState3,2),displayEmpty=_useState4[0],setDisplayEmpty=_useState4[1];var _useState5=useState('block'),_useState6=_slicedToArray(_useState5,2),showEmpty=_useState6[0],setShowEmpty=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),onChangeEvent=_useState8[0],setOnChangeEvent=_useState8[1];var removeProductIndex;var goToCheckout=function goToCheckout(){if(cartItems.length!==0){navigate('/checkout');}};var removeItem=function removeItem(e){for(var i=0;i<products.length;i++){if(e.target.name===products[i].name){setOnChangeEvent([].concat(_toConsumableArray(onChangeEvent),[products[i]]));removeProductIndex=i;var tempIndex=cartItems.indexOf(products[i]);cartItems.splice(tempIndex,1);}}};var MakeItems=function MakeItems(){if(cartItems!==[]){return/*#__PURE__*/_jsx(_Fragment,{children:cartItems.map(function(indiv,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"item\",id:indiv.id,name:indiv.name,style:!cartItems.some(function(e){return e.name===indiv.name;})?{display:'none'}:{display:'flex'},children:[/*#__PURE__*/_jsx(\"img\",{className:\"item-img\",src:\"./img/\"+indiv.image[0],alt:indiv.alt}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-des\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:indiv.name}),/*#__PURE__*/_jsx(\"div\",{className:\"snippet\",children:indiv.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"important\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[cartItemsNum[index],\" \",cartItemsNum[index]>1?'items':'item']}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:indiv.price}),/*#__PURE__*/_jsx(\"div\",{className:\"adding\",children:\"Adding to:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"math\",children:indiv.price*cartItemsNum[index]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove\",name:indiv.name,value:indiv.price*cartItemsNum[index],onClick:removeItem,children:\"X\"})]},indiv.id);})});}else{setDisplayEmpty('flex');setShowEmpty('none');}};useEffect(function(){if(removeProductIndex>-1){cartItemsNum.splice([removeProductIndex],1);}if(cartItems.length===0){setDisplayEmpty('flex');setShowEmpty('none');}var temp=[];for(var i=0;i<cartItems.length;i++){temp.push(cartItems[i].price*cartItemsNum[i]);setAbsoluteTotal(temp.reduce(function(a,b){return a+b;},0));}},[onChangeEvent]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{id:\"border\",src:border,alt:\"border\"}),/*#__PURE__*/_jsx(\"div\",{id:\"main\",children:/*#__PURE__*/_jsxs(\"ul\",{id:\"item-list\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"total\",style:{display:showEmpty},children:[cartItems.length,\" items, adding to \",absoluteTotal]}),/*#__PURE__*/_jsxs(\"div\",{id:\"empty\",style:{display:displayEmpty},children:[/*#__PURE__*/_jsx(\"img\",{id:\"emptycart\",src:\"../img/shoppingcart.svg\",alt:\"empty shopping cart\"}),\"There's nothing here...\"]}),/*#__PURE__*/_jsx(MakeItems,{}),/*#__PURE__*/_jsx(\"div\",{id:\"bottom\",children:/*#__PURE__*/_jsx(\"button\",{id:\"checkout\",onClick:goToCheckout,style:{display:showEmpty},children:\"Checkout\"})})]})})]});};export default ShoppingCartPage;","map":{"version":3,"names":["React","useContext","useState","useEffect","border","products","cart","cartNum","useNavigate","ShoppingCartPage","cartItems","cartItemsNum","navigate","absoluteTotal","setAbsoluteTotal","displayEmpty","setDisplayEmpty","showEmpty","setShowEmpty","onChangeEvent","setOnChangeEvent","removeProductIndex","goToCheckout","length","removeItem","e","i","target","name","tempIndex","indexOf","splice","MakeItems","map","indiv","index","id","some","display","image","alt","description","price","temp","push","reduce","a","b"],"sources":["/home/nah/sample-shopping-website/src/components/shoppingcart/scripts.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport './styles.css'\nimport border from '../img/border.png'\nimport products from '../productslist'\nimport { cart, cartNum } from '../bagcontext'\nimport { useNavigate } from 'react-router-dom'\n\nlet ShoppingCartPage = () => {\n\n    let cartItems = useContext(cart)\n    let cartItemsNum = useContext(cartNum)\n    const navigate = useNavigate()\n\n    const [absoluteTotal, setAbsoluteTotal] = useState(0)\n    const [displayEmpty, setDisplayEmpty] = useState('none')\n    const [showEmpty, setShowEmpty] = useState('block')\n    const [onChangeEvent, setOnChangeEvent] = useState([])\n\n    let removeProductIndex\n\n\n    let goToCheckout = () => {\n        if (cartItems.length !== 0){\n        navigate('/checkout')\n    }}\n\n    let removeItem = (e) => {\n        for (let i = 0; i < products.length; i++) {\n            if (e.target.name === products[i].name) {\n                setOnChangeEvent([...onChangeEvent, products[i]])\n                removeProductIndex = i\n                let tempIndex = cartItems.indexOf(products[i])\n                cartItems.splice(tempIndex, 1)\n            }\n        }\n    }\n\n    let MakeItems = () => {\n        if (cartItems !== [] ) {\n            return <>\n            {cartItems.map((indiv, index) =>  (\n                <li className='item' id={indiv.id} key={indiv.id} name={indiv.name} style={ !cartItems.some(e => e.name === (indiv.name)) ? {display: 'none'} : {display: 'flex'} }>\n                    <img className='item-img' src={\"./img/\" + indiv.image[0]} alt={indiv.alt} />\n                    <div className='item-des'>\n                        <div className='title'>{indiv.name}</div>\n                        <div className='snippet'>{indiv.description}</div>\n                    </div>\n                    <div className='important'>\n                        <div className='quantity'>{cartItemsNum[index]} {cartItemsNum[index] > 1 ? 'items' : 'item'}</div>\n                        <div className='price'>{indiv.price}</div>\n                        <div className='adding'>Adding to:</div>\n                        <div className='math'>{(indiv.price) * (cartItemsNum[index])}</div>\n                    </div>\n                    <button className='remove' name={indiv.name} value={(indiv.price) * (cartItemsNum[index])}onClick={removeItem}>X</button>\n                </li>))}\n            </>\n        } else {\n            setDisplayEmpty('flex')\n            setShowEmpty('none')\n        }\n\n    }\n\n  useEffect(() => {\n    if (removeProductIndex > -1) {\n        cartItemsNum.splice([removeProductIndex], 1)\n    }\n    if (cartItems.length === 0) {\n        setDisplayEmpty('flex')\n        setShowEmpty('none')\n    }\n    let temp = []\n    for (let i = 0; i < cartItems.length; i++) {\n        temp.push(cartItems[i].price * cartItemsNum[i])\n        setAbsoluteTotal(temp.reduce((a, b) => a + b, 0))\n    }\n }, [onChangeEvent])\n\n\n    return  <>\n            <img id=\"border\" src={border} alt='border' />\n                <div id=\"main\">\n                    <ul id=\"item-list\">\n                        <div id='total'style={{display: showEmpty}}>{cartItems.length} items, adding to {absoluteTotal}</div>\n                        <div id=\"empty\" style={{display: displayEmpty}}>\n                            <img id='emptycart' src=\"../img/shoppingcart.svg\" alt=\"empty shopping cart\"/>\n                                There's nothing here...\n                        </div>\n                        <MakeItems />\n                        <div id=\"bottom\">\n                            <button id=\"checkout\" onClick={goToCheckout} style={{display: showEmpty}}>Checkout</button>\n                        </div>\n                    </ul>\n                </div>\n            </>\n}\n\nexport default ShoppingCartPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
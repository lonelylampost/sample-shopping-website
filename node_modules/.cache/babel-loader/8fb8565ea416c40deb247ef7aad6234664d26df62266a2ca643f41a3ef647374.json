{"ast":null,"code":"import _toConsumableArray from\"/home/nah/sample-shopping-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/nah/sample-shopping-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./styles.css';import border from'../img/border.png';import products from'../productslist';import{useContext,useState,useEffect}from'react';import{cart,cartNum}from'../bagcontext';import{useNavigate}from'react-router-dom';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShoppingCartPage(){var cartItems=useContext(cart);var cartItemsNum=useContext(cartNum);var navigate=useNavigate();var _useState=useState(cartItems),_useState2=_slicedToArray(_useState,2),listItems=_useState2[0],setListItems=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),absoluteTotal=_useState4[0],setAbsoluteTotal=_useState4[1];var _useState5=useState('none'),_useState6=_slicedToArray(_useState5,2),displayEmpty=_useState6[0],setDisplayEmpty=_useState6[1];var _useState7=useState('block'),_useState8=_slicedToArray(_useState7,2),showEmpty=_useState8[0],setShowEmpty=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tempName=_useState10[0],setTempName=_useState10[1];function goToCheckout(){if(cartItems.length!==0){navigate('/checkout');}}var tempNum;function removeItem(e){for(var i=0;i<products.length;i++){if(e.target.name===products[i].name){setTempName([].concat(_toConsumableArray(tempName),[products[i]]));tempNum=i;var tempIndex=cartItems.indexOf(products[i]);cartItems.splice(tempIndex,1);}}if(listItems.length===0||cartItems.length===0){setDisplayEmpty('flex');setShowEmpty('none');}}function MakeItems(){if(listItems!==[]){return/*#__PURE__*/_jsx(_Fragment,{children:listItems.map(function(indiv,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"item\",id:indiv.id,name:indiv.name,style:!listItems.some(function(e){return e.name===indiv.name;})?{display:'none'}:{display:'flex'},children:[/*#__PURE__*/_jsx(\"img\",{className:\"item-img\",src:\"./img/\"+indiv.image[0],alt:indiv.alt}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-des\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:indiv.name}),/*#__PURE__*/_jsx(\"div\",{className:\"snippet\",children:indiv.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"important\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[cartItemsNum[index],\" \",cartItemsNum[index]>1?'items':'item']}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:indiv.price}),/*#__PURE__*/_jsx(\"div\",{className:\"adding\",children:\"Adding to:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"math\",children:indiv.price*cartItemsNum[index]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove\",name:indiv.name,value:indiv.price*cartItemsNum[index],onClick:removeItem,children:\"X\"})]},indiv.id);})});}else{setDisplayEmpty('flex');setShowEmpty('none');}}useEffect(function(){if(tempNum>-1){cartItemsNum.splice([tempNum],1);}var tempArr=cartItems.filter(function(el){return!tempName.some(function(f){return f.name===el.name;});});setListItems(tempArr);if(listItems.length===0||cartItems.length===0){setDisplayEmpty('flex');setShowEmpty('none');}for(var i=0;i<cartItems.length;i++){var temp=[];temp.push(cartItems[i].price*cartItemsNum[i]);setAbsoluteTotal(temp.reduce(function(a,b){return a+b;},0));}},[tempName]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{id:\"border\",src:border,alt:\"border image\"}),/*#__PURE__*/_jsx(\"div\",{id:\"main\",children:/*#__PURE__*/_jsxs(\"ul\",{id:\"item-list\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"empty\",style:{display:displayEmpty},children:[/*#__PURE__*/_jsx(\"img\",{id:\"emptycart\",src:\"../img/shoppingcart.svg\"}),\"There's nothing here...\"]}),/*#__PURE__*/_jsx(MakeItems,{}),/*#__PURE__*/_jsx(\"div\",{id:\"bottom\",children:/*#__PURE__*/_jsx(\"button\",{id:\"checkout\",onClick:goToCheckout,style:{display:showEmpty},children:\"Checkout\"})})]})})]});}export default ShoppingCartPage;","map":{"version":3,"names":["React","border","products","useContext","useState","useEffect","cart","cartNum","useNavigate","ShoppingCartPage","cartItems","cartItemsNum","navigate","listItems","setListItems","absoluteTotal","setAbsoluteTotal","displayEmpty","setDisplayEmpty","showEmpty","setShowEmpty","tempName","setTempName","goToCheckout","length","tempNum","removeItem","e","i","target","name","tempIndex","indexOf","splice","MakeItems","map","indiv","index","id","some","display","image","alt","description","price","tempArr","filter","el","f","temp","push","reduce","a","b"],"sources":["/home/nah/sample-shopping-website/src/components/shoppingcart/scripts.js"],"sourcesContent":["import React from 'react'\nimport './styles.css'\nimport border from '../img/border.png'\nimport products from '../productslist'\n\nimport { useContext, useState, useEffect } from 'react'\nimport { cart, cartNum } from '../bagcontext'\nimport { useNavigate } from 'react-router-dom'\n\nfunction ShoppingCartPage() {\n\n    let cartItems = useContext(cart)\n    let cartItemsNum = useContext(cartNum)\n    const navigate = useNavigate()\n\n\n    const [listItems, setListItems] = useState(cartItems)\n    const [absoluteTotal, setAbsoluteTotal] = useState(0)\n    const [displayEmpty, setDisplayEmpty] = useState('none')\n    const [showEmpty, setShowEmpty] = useState('block')\n    const [tempName, setTempName] = useState([])\n\n    function goToCheckout() {\n        if (cartItems.length !== 0){\n        navigate('/checkout')\n    }\n    }\n\n    let tempNum\n\n     function removeItem(e) {\n         for (let i = 0; i < products.length; i++) {\n             if (e.target.name === products[i].name) {\n                setTempName([...tempName, products[i]])\n                tempNum = i\n                let tempIndex = cartItems.indexOf(products[i])\n                cartItems.splice(tempIndex, 1)\n             }\n         }\n         if (listItems.length === 0 || cartItems.length === 0) {\n            setDisplayEmpty('flex')\n            setShowEmpty('none')\n        }\n     }\n\n    function MakeItems() {\n        if (listItems !== [] ) {\n            return <>\n            {listItems.map((indiv, index) =>  (\n                <li className='item' id={indiv.id} key={indiv.id} name={indiv.name} style={ !listItems.some(e => e.name === (indiv.name)) ? {display: 'none'} : {display: 'flex'} }>\n                    <img className='item-img' src={\"./img/\" + indiv.image[0]} alt={indiv.alt} />\n                    <div className='item-des'>\n                        <div className='title'>{indiv.name}</div>\n                        <div className='snippet'>{indiv.description}</div>\n                    </div>\n                    <div className='important'>\n                        <div className='quantity'>{cartItemsNum[index]} {cartItemsNum[index] > 1 ? 'items' : 'item'}</div>\n                        <div className='price'>{indiv.price}</div>\n                        <div className='adding'>Adding to:</div>\n                        <div className='math'>{(indiv.price) * (cartItemsNum[index])}</div>\n                    </div>\n                    <button className='remove' name={indiv.name} value={(indiv.price) * (cartItemsNum[index])}onClick={removeItem}>X</button>\n                </li>))}\n            </>\n        } else {\n            setDisplayEmpty('flex')\n            setShowEmpty('none')\n        }\n\n    }\n\n\n\n\n  useEffect(() => {\n\n    if (tempNum > -1) {\n        cartItemsNum.splice([tempNum], 1)\n    }\n     let tempArr = cartItems.filter((el) => {\n         return !tempName.some((f) => {\n             return f.name === el.name\n         })\n     })\n     setListItems(tempArr)\n    if (listItems.length === 0 || cartItems.length === 0) {\n        setDisplayEmpty('flex')\n        setShowEmpty('none')\n    }\n    for (let i = 0; i < cartItems.length; i++) {\n        let temp = []\n        temp.push(cartItems[i].price * cartItemsNum[i])\n        setAbsoluteTotal(temp.reduce((a, b) => a + b, 0))\n    }\n }, [tempName])\n\n\n    return  <>\n            <img id=\"border\" src={border} alt='border image' />\n                <div id=\"main\">\n                    <ul id=\"item-list\">\n                        <div id=\"empty\" style={{display: displayEmpty}}>\n                            <img id='emptycart' src=\"../img/shoppingcart.svg\" />\n                                There's nothing here...\n                        </div>\n                        <MakeItems />\n                        <div id=\"bottom\">\n                            <button id=\"checkout\" onClick={goToCheckout} style={{display: showEmpty}}>Checkout</button>\n                        </div>\n                    </ul>\n                </div>\n            </>\n}\n\nexport default ShoppingCartPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
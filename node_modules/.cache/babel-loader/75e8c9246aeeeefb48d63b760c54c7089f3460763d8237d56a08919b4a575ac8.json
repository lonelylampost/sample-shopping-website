{"ast":null,"code":"import _slicedToArray from\"/home/nah/sample-shopping-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./styles.css';import{CreateProducts}from'../products';import{useNavigate,redirect}from'react-router-dom';import{useState,useEffect}from'react';import products from'../productslist';import{useContext}from'react';import{cart,cartNum,showCart}from'../bagcontext';import{bag}from'../../App';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductInfo(){var selectedProduct=useContext(bag);var letShowCart=useContext(showCart);var navigate=useNavigate();var cartItems=useContext(cart);var cartItemsNum=useContext(cartNum);var _useState=useState(cartItems.length),_useState2=_slicedToArray(_useState,2),bagAmount=_useState2[0],setBagAmount=_useState2[1];var _useState3=useState(letShowCart),_useState4=_slicedToArray(_useState3,2),currentDisplay=_useState4[0],setCurrentDisplay=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),inputValue=_useState6[0],setInputValue=_useState6[1];for(var i=0;i<document.getElementsByClassName('images').length;i++){document.getElementsByClassName('images')[i].addEventListener('click',function(){letShowCart='flex';setCurrentDisplay(letShowCart);});}function setBagItems(e){e.preventDefault();for(var _i=0;_i<products.length;_i++){if(e.target.className===products[_i].name){cartItems.push(products[_i]);cartItemsNum.push(parseInt(inputValue));setBagAmount(cartItems.length);if(cartItems.includes(e.target.className)){letShowCart='none';setCurrentDisplay(letShowCart);}}}}function goToBag(){navigate('/shopping-cart');}useEffect(function(){if(cartItems.length>0){document.getElementById('bag-counter').style.display='block';}if(letShowCart!=='flex'){letShowCart='flex';setCurrentDisplay(letShowCart);}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"bag-counter\",children:\"!\"}),/*#__PURE__*/_jsx(\"img\",{id:\"bag-popup\",src:\"./img/shoppingcart.svg\",onClick:goToBag}),/*#__PURE__*/_jsxs(\"div\",{id:\"imgdes\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"lefty\",children:/*#__PURE__*/_jsx(\"img\",{src:'./img/'+selectedProduct[0].image[0],alt:selectedProduct[0].alt})}),/*#__PURE__*/_jsxs(\"div\",{id:\"righty\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"title\",children:selectedProduct[0].name}),/*#__PURE__*/_jsx(\"div\",{id:\"itemtype\",children:selectedProduct[0].snippet}),/*#__PURE__*/_jsx(\"div\",{id:\"price\",children:selectedProduct[0].price}),/*#__PURE__*/_jsxs(\"form\",{id:\"purchase\",style:{display:currentDisplay},children:[/*#__PURE__*/_jsx(\"input\",{id:\"quantity\",className:selectedProduct[0].name,type:\"number\",name:\"quantity\",min:\"1\",max:\"99\",onChange:function onChange(e){return setInputValue(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"bag\",className:selectedProduct[0].name,onClick:setBagItems})]}),/*#__PURE__*/_jsx(\"div\",{id:\"item-des\",children:selectedProduct[0].description})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"body-cont\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"reccs\",children:\"Recommended for you:\"}),/*#__PURE__*/_jsx(\"ul\",{id:\"products\",children:/*#__PURE__*/_jsx(CreateProducts,{length:4})})]})]});}export default ProductInfo;","map":{"version":3,"names":["React","CreateProducts","useNavigate","redirect","useState","useEffect","products","useContext","cart","cartNum","showCart","bag","ProductInfo","selectedProduct","letShowCart","navigate","cartItems","cartItemsNum","length","bagAmount","setBagAmount","currentDisplay","setCurrentDisplay","inputValue","setInputValue","i","document","getElementsByClassName","addEventListener","setBagItems","e","preventDefault","target","className","name","push","parseInt","includes","goToBag","getElementById","style","display","image","alt","snippet","price","value","description"],"sources":["/home/nah/sample-shopping-website/src/components/productinfo/scripts.js"],"sourcesContent":["import React from 'react'\nimport './styles.css'\nimport { CreateProducts } from '../products'\nimport { useNavigate, redirect } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\nimport products from '../productslist'\n\nimport { useContext } from 'react';\nimport { cart, cartNum, showCart } from '../bagcontext'\nimport { bag } from '../../App'\n\nfunction ProductInfo() {\n    let selectedProduct = useContext(bag)\n    let letShowCart = useContext(showCart)\n\n    const navigate = useNavigate()\n\n    let cartItems = useContext(cart) \n    let cartItemsNum = useContext(cartNum) \n\n    const [bagAmount, setBagAmount] = useState(cartItems.length);\n    let [currentDisplay, setCurrentDisplay] = useState(letShowCart);\n    const [inputValue, setInputValue] = useState('')\n\n    for (let i = 0; i < document.getElementsByClassName('images').length; i++) {\n        document.getElementsByClassName('images')[i].addEventListener('click', function() {\n            letShowCart = 'flex'\n            setCurrentDisplay(letShowCart)\n        })\n      }\n\n    \n    function setBagItems(e) {\n        e.preventDefault()\n        for(let i = 0; i < products.length; i++) {\n            if (e.target.className === products[i].name) {\n                cartItems.push(products[i])\n                cartItemsNum.push(parseInt(inputValue))\n                setBagAmount(cartItems.length)\n                if (cartItems.includes(e.target.className)) {\n                    letShowCart = 'none'\n                    setCurrentDisplay(letShowCart)\n                }\n            }\n        }\n    }\n\n    function goToBag() {\n        navigate('/shopping-cart')\n    }\n\n    \n\n\n    useEffect(() => {        \n        if (cartItems.length > 0) {\n            document.getElementById('bag-counter').style.display = 'block'\n        }\n        if (letShowCart !== 'flex') {\n            letShowCart = 'flex'\n            setCurrentDisplay(letShowCart)\n        }\n    })\n\n    return  <>\n                <div id=\"bag-counter\">!</div>\n                <img id=\"bag-popup\" src=\"./img/shoppingcart.svg\" onClick={goToBag}/>\n                <div id=\"imgdes\">\n                    <div id=\"lefty\">\n                        <img src={'./img/' + (selectedProduct)[0].image[0]} alt={(selectedProduct)[0].alt} />\n                    </div>\n                    <div id=\"righty\">\n                        <div id='title'>{(selectedProduct)[0].name}</div>\n                        <div id='itemtype'>{(selectedProduct)[0].snippet}</div>\n                        <div id='price'>{(selectedProduct)[0].price}</div>\n                        <form id='purchase' style={{display: currentDisplay}}>\n                            <input id='quantity' className={(selectedProduct)[0].name} type=\"number\" name=\"quantity\" min=\"1\" max=\"99\" onChange={(e) => setInputValue(e.target.value)}></input>\n                            <input type=\"submit\" id='bag' className={(selectedProduct)[0].name} onClick={setBagItems} />\n                        </form>\n                        <div id='item-des'>{(selectedProduct)[0].description}</div>\n                    </div>\n                </div>\n                <div id=\"body-cont\">\n                    <div id=\"reccs\">Recommended for you:</div>\n                    <ul id=\"products\">\n                        <CreateProducts length={4}/>\n                    </ul>\n                </div>\n            </>\n}\n\nexport default ProductInfo"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}